# 生産管理システム 運用マニュアル
## 無料クラウド公開 & QRコード生産報告 設定ガイド

---

## 📋 目次

1. [システム概要](#1-システム概要)
2. [GitHub Pagesで無料公開する手順](#2-github-pagesで無料公開する手順)
3. [スマホからのQR読取・進捗登録方法](#3-スマホからのqr読取進捗登録方法)
4. [管理者向け：初期設定方法](#4-管理者向け初期設定方法)
5. [作業員向け：使い方ガイド](#5-作業員向け使い方ガイド)
6. [よくある質問（FAQ）](#6-よくある質問faq)

---

## 1. システム概要

### このシステムでできること

| 機能 | 説明 |
|------|------|
| **工程管理** | 製品ごとの工程進捗をガントチャートで可視化 |
| **進捗登録** | 作業員がQRコードで工程完了を報告 |
| **BOM管理** | 製品の部材構成と工程時間を管理 |
| **月次報告** | 完了案件の加工費を自動計算・PDF出力 |

### システム構成

```
┌─────────────────────────────────────────────────┐
│                 GitHub Pages                      │
│           （無料ホスティング）                      │
│  ┌──────────────────────────────────────────┐  │
│  │   index.html / app.js / styles.css       │  │
│  └──────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
             ↑          ↑
             │          │
    ┌────────┴──┐  ┌────┴────────┐
    │ 管理者PC   │  │ 作業員スマホ   │
    │（登録・管理）│  │（QR読取・報告）│
    └───────────┘  └─────────────┘
```

> ⚠️ **注意**: データはブラウザの localStorage に保存されます。
> 端末間でリアルタイム共有するには、データベースサーバーが必要です（後述）。

---

## 2. GitHub Pagesで無料公開する手順

### 必要なもの
- GitHubアカウント（無料）
- インターネット接続

### 手順

#### ステップ1: GitHubアカウント作成

1. [github.com](https://github.com) にアクセス
2. 「Sign up」をクリック
3. メールアドレス、パスワード、ユーザー名を入力
4. メール認証を完了

#### ステップ2: 新しいリポジトリを作成

1. GitHubにログイン
2. 右上の「+」→「New repository」をクリック
3. 設定内容：
   - Repository name: `production-management`（任意）
   - Public を選択
   - 「Add a README file」にチェック
4. 「Create repository」をクリック

#### ステップ3: ファイルをアップロード

1. リポジトリページで「Add file」→「Upload files」をクリック
2. 以下のファイルをドラッグ＆ドロップ：
   - `index.html`
   - `app.js`
   - `styles.css`
3. 「Commit changes」をクリック

#### ステップ4: GitHub Pagesを有効化

1. リポジトリページで「Settings」タブをクリック
2. 左メニューから「Pages」をクリック
3. Source で「Deploy from a branch」を選択
4. Branch で「main」を選択、「/ (root)」を選択
5. 「Save」をクリック
6. 数分待つと、上部に公開URLが表示されます

**公開URL例**: `https://あなたのユーザー名.github.io/production-management/`

#### ステップ5: 動作確認

1. 公開URLにスマホでアクセス
2. ログイン画面が表示されればOK

---

## 3. スマホからのQR読取・進捗登録方法

### 作業員の基本フロー

```
┌────────────────────────────────────────────────┐
│  1. スマホでシステムにアクセス                    │
│     ↓                                           │
│  2. ログイン（ユーザー名/パスワード）               │
│     ↓                                           │
│  3. 「進捗登録」メニューを選択                    │
│     ↓                                           │
│  4. 案件・部材・工程を選択                        │
│     ↓                                           │
│  5. 「進捗登録」ボタンをタップ                    │
│     ↓                                           │
│  6. 完了！（管理画面に即座に反映）                 │
└────────────────────────────────────────────────┘
```

### スマホでの操作手順

1. **アクセス**
   - ブラウザで公開URLを開く
   - ホーム画面に追加しておくと便利

2. **ログイン**
   - ユーザー名とパスワードを入力
   - 「ログイン」をタップ

3. **進捗登録画面へ移動**
   - 左上のメニューアイコン「⊞」をタップ

4. **進捗を登録**
   - 「案件選択」：該当の案件を選択
   - 「部材選択」：作業した部材を選択
   - 「工程選択」：完了した工程を選択
   - 「進捗登録」ボタンをタップ

5. **完了確認**
   - 「進捗を登録しました」のメッセージが表示される
   - 工程管理画面で緑色の「完了」バーに変わる

---

## 4. 管理者向け：初期設定方法

### 4.1 ユーザー登録

1. 管理者でログイン（初期: admin / admin123）
2. 「ユーザー管理」メニューを選択
3. 「+ 新規作成」をクリック
4. 作業員情報を入力：
   - ユーザー名（ログインID）
   - 表示名（画面に表示される名前）
   - パスワード
   - 権限（admin または worker）
5. 「保存」をクリック

### 4.2 BOM（部材構成）登録

#### 方法1: 個別登録
1. 「BOM管理」メニューを選択
2. 「+ 新規作成」をクリック
3. 必要事項を入力：
   - カテゴリ（大分類）
   - 製品名
   - BOM名（部材名）
   - 部材コード
   - 工程を選択

#### 方法2: スプレッドシートから一括インポート
1. 「BOM管理」メニューを選択
2. 「インポート」をクリック
3. スプレッドシートのデータをコピー＆ペースト
   - 形式: 大分類 [TAB] 品名 [TAB] BOM [TAB] 部材CD [TAB] 工程時間...
4. 「インポート」をクリック

### 4.3 賃率設定

1. 「賃率管理」メニューを選択
2. 各部門の賃率（円/分）を設定：
   - 基材係
   - 加工係
   - 梱包仕上係
3. 「保存」をクリック

### 4.4 生産指示書の作成

1. 「生産指示書」メニューを選択
2. 「+ 新規作成」をクリック
3. 必要事項を入力：
   - 特注No.
   - 物件名
   - 品名（入力で候補を絞込）
   - 数量
   - 色
   - 着工日・納期
   - 備考（最大10項目）
4. 「作成」をクリック

---

## 5. 作業員向け：使い方ガイド

### 毎日の作業フロー

```
朝：システムにログイン
 ↓
作業開始：工程管理で担当案件を確認
 ↓
作業完了：進捗登録で完了報告
 ↓
次の作業へ
```

### 画面の見方

#### ダッシュボード
| アイコン | 意味 |
|---------|------|
| ☰ | 総指示書数 |
| ◐ | 進行中の案件 |
| ◉ | 完了した案件 |
| △ | 不良品件数 |

#### 工程管理画面
| 色 | 意味 |
|----|------|
| 🟩 緑 | 完了 |
| 🟧 オレンジ | 作業中（点滅） |
| ⬜ グレー | 未着手 |

### 進捗登録のコツ

- **案件選択**: 特注No.または物件名で検索
- **部材選択**: 作業した部材を選択
- **工程選択**: 完了した工程を選択

---

## 6. よくある質問（FAQ）

### Q1: データは他の端末と共有できますか？

**現在の仕様**: データは各端末のブラウザに保存されるため、リアルタイム共有はできません。

**対策案**:
1. **Firebase Realtime Database**（推奨・無料枠あり）
2. **Google Sheets API** との連携
3. **LocalStorage の手動エクスポート/インポート**

### Q2: スマホのホーム画面に追加する方法は？

**iPhone (Safari)**:
1. システムのURLを開く
2. 下部の共有ボタン（□に↑）をタップ
3. 「ホーム画面に追加」を選択

**Android (Chrome)**:
1. システムのURLを開く
2. メニュー（⋮）をタップ
3. 「ホーム画面に追加」を選択

### Q3: パスワードを忘れた場合は？

管理者に連絡して、ユーザー管理画面からパスワードをリセットしてもらってください。

### Q4: データのバックアップ方法は？

管理者PCで以下の手順：
1. ブラウザのデベロッパーツールを開く（F12）
2. Console タブで以下を入力：
   ```javascript
   localStorage.getItem('production_orders')
   ```
3. 表示されたデータをテキストファイルに保存

### Q5: 月次報告のPDF出力方法は？

1. 「月次報告」メニューを選択
2. 開始日・終了日を選択
3. 「集計」をクリック
4. 「PDF出力」をクリック
5. 印刷ダイアログで「PDFに保存」を選択

---

## 📞 サポート連絡先

問題が発生した場合は、管理者までご連絡ください。

---

**作成日**: 2026年2月1日  
**バージョン**: 1.0
